name: Pull Request Comments

on:
  pull_request:
    branches:
      - main
    types:
      - opened

jobs:
  comments:
    runs-on: ubuntu-latest
    permissions: write-all
    steps:
      - name: Pull Request Comments
        uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            await github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: `### 🚀 Verification Evidence 🚀
            How do you know that your changes work? Reply to this comment with \
            with specific evidence that all functionality added or changed in \
            this pull request is working as expected.`
            });

            await github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: `### 🧪 Regression Testing 🧪
            What have you done to ensure that future regressions of the \
            functionality added or changed in this pull request are caught \
            before being deployed to a production environment? This can \
            include unit, isolation, and/or integration tests, or manual \
            procedures if necessary.`
            });

            await github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: `### 📝 Documentation 📝
            Is the ticket tracking these changes up to date, and has all \
            documentation for this feature been created and updated? Include \
            links to RFCs and PDRs if applicable.`
            });
